<html>
<body>
<h4>JPQL Injection</h4>
<b>Search Students in my campus (POLI)</b><br>
<label for="name">Name:</label>
<input id="name" type="text"/> <br>
<button onclick="search()">Search</button>
<div id="results" style="background: #f0f0f0"></div>

Try name=
<li>' OR 1=1 OR '' = '</li>
<script>
    function search() {
        const name = document.getElementById('name').value;
        fetch(`/api/vulnerability/jpql-injection?name=${name}`)
            .then((response) => response.json())
            .then((data) => {
                document.getElementById('results').innerHTML =
                    "<ul>"
                    + data.map(e => `<li> ${e.name} from ${e.campus}</li>`).join("")
                    + "</ul>";
            });
    }

    search();
</script>
</body>
</html>
